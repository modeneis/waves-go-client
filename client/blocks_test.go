package client

import (
	"testing"

	"github.com/stretchr/testify/assert"

	"github.com/modeneis/waves-go-client/model"
)

func TestGetBlocksAtHeight_200(t *testing.T) {

	expected := &model.Blocks{Version:3, Timestamp:1521485631005, Reference:"3wt76w9MMUfiqfqvBJFRPApu6neGfGUjTyaR8WJUrnk5fiQKSPvhDsB6DK7CBvmCtyfv79h2x3LAoWwfgfpLfAw9", NxtCconsensus:model.NxtCconsensus{BaseTarget:50, GenerationSignature:"AhHzvMzifbubtGQR8xi1kdyLAzBmRW8jukn5oetWqvcE"}, Features:[]int{3}, Generator:"3PNMvAqJWYPkwf8fhz46rZiLEWpTmuhD3Uh", Signature:"4FzYYpSMXxW9fzMWEnMBh5q9X7joRC5rCxz41CZ7p2J7Q6V8KVMArQStxqeLCwzJRmf8neFT8KDzG3R8wjVjd96D", Blocksize:4678, TransactionCount:15, Fee:2500000, Transactions:[]model.Transactions{{Type:7, ID:"FpCV3gEKqPjtkY6Pu7BthZUeSWA1nTpEFetitm8Zx3Z6", Sender:"3PJaDyprvekvPXPuAtxrapacuDJopgJRaU3", SenderPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", Recipient:"", AssetID:"", Amount:33000000, FeeAsset:"", Fee:300000, Timestamp:1521485623488, Attachment:"", Signature:"5R7hzVME7XnaqfiqSoJWwSoQ2PPeuYNcRwyduVU4XwCMQadfnJgcjUGLHnaLP4L7vU25XaLfGfiZ4gwbMRudy3Ui", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:12970000000, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"5eaYnNAA8cuXKjJsfzcvH6bEGsSzDuWVuxnq61kbhaFs", SenderPublicKey:"9gQY94enLzH3TW3WowJzoQDSU3kJjHp6eUgchUC5Z2r4", MatcherPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", AssetPair:model.AssetPair{AmountAsset:"B1u2TBpTYHWCuMuKLnbQfLvdLJ3zjgPiy3iMS2TSYugZ", PriceAsset:""}, OrderType:"buy", Price:12970000000, Expiration:1521572022000, MatcherFee:300000, Signature:"2HPAhRuSddFdcpz5zWnB65FRnAemoyhrHwgb1BAbH7TwwYMGbtp8cQLS3LDrLz81RtiZUoAxqV528DFt9xacB7qu", Amount:33000000, Timestamp:1521485622000}, Order2:model.Order{Type:0, ID:"7mZtsUtTP1uGseNz6JJDgCqNFFNswHj1H3bnVVYn3C5i", SenderPublicKey:"9gQY94enLzH3TW3WowJzoQDSU3kJjHp6eUgchUC5Z2r4", MatcherPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", AssetPair:model.AssetPair{AmountAsset:"B1u2TBpTYHWCuMuKLnbQfLvdLJ3zjgPiy3iMS2TSYugZ", PriceAsset:""}, OrderType:"sell", Price:12970000000, Expiration:1521572023000, MatcherFee:300000, Signature:"3qHBJcobjZgXCQy7VCQ5n53JEbcqgjN8KCycTqbf9KZcwYLpt8ErN8o2bN6H5FazETViaUKMCJza34xNi7ggPNu6", Amount:33000000, Timestamp:1521485623000}, BuyMatcherFee:300000, SellMatcherFee:300000}, model.Transactions{Type:7, ID:"58esX9Kg1qgworrYGHvqF2pnVVfTvY915gds9w2Ng1AA", Sender:"3PJaDyprvekvPXPuAtxrapacuDJopgJRaU3", SenderPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", Recipient:"", AssetID:"", Amount:1, FeeAsset:"", Fee:300000, Timestamp:1521485626132, Attachment:"", Signature:"5R8naBLVqYPEnMauth2BPq79AnZfE1jLTrm6EGBSEXLr5rBHGbfSByKHiZyyz1wCWfwvrZ2bEyY3NrnLnR954mRo", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:138999910000000, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"Aev7U8xRUf84LmNeGJsVpYqK8G2TanfhTvdq2qzsiYqm", SenderPublicKey:"ED8wfYB7DT3fcQRqFBUt6nYE1fEN6hwvCrtfrCW1GEuX", MatcherPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", AssetPair:model.AssetPair{AmountAsset:"4XUN5uu8EaQSaKiC9jbEK3DN5peAoTDSnHZGyRWwyniC", PriceAsset:""}, OrderType:"buy", Price:138999910000000, Expiration:1523990598339, MatcherFee:300000, Signature:"3v3xE5NowyEohm7SwXtCvNhVD5T2ksTPnRZnjURGdSJ5rEEkrEq5zCyw79LAuW48WGJWhRwCjMREM6auzxdkxh2i", Amount:1, Timestamp:1521484998339}, Order2:model.Order{Type:0, ID:"B7zCZQ8WExxXeebdWsyuRXtbB1daeNR2PLmC7dT4Xeo3", SenderPublicKey:"8Us7YHE3xdvcQMQBGpuZL5ij3aNr6nQ3zrAFgZLTy2FA", MatcherPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", AssetPair:model.AssetPair{AmountAsset:"4XUN5uu8EaQSaKiC9jbEK3DN5peAoTDSnHZGyRWwyniC", PriceAsset:""}, OrderType:"sell", Price:138999910000000, Expiration:1523213625967, MatcherFee:300000, Signature:"5d4UFXqKsjvdWGEdYFoQLkv2HSRE6W2fKMGsLHxfMoU4iJjknMCwaiajX6E5Q1mMb9LgtzrX11Dta4Gv6P5jKAbc", Amount:461, Timestamp:1521485625967}, BuyMatcherFee:300000, SellMatcherFee:650}, model.Transactions{Type:4, ID:"Ee9Ji5PropqoDW2FzyyQsVEobmTHRRbtPTfEzufjkrsi", Sender:"3P2u3LjeBXbVGfUVS6JnxknJBgXtAJRLttF", SenderPublicKey:"7Dq3SwFoojdvxkbvyUFH5WNDViyv8FD9FtCBwFuagaxE", Recipient:"3P9ZK7jG2shcoWvyjhbGrL8QoS5yBZAMzMn", AssetID:"", Amount:199900000, FeeAsset:"", Fee:100000, Timestamp:1521485621237, Attachment:"", Signature:"2hgKLeRwaxxCjwPBuGsY483pkyCSfDwJ3ZQS2PUssyP8DwogMTe4WWmcouixPkuYfXNshv1StztrWWiB2cxmSwmu", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:0, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, Order2:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, BuyMatcherFee:0, SellMatcherFee:0}, model.Transactions{Type:4, ID:"KSa8ybJXdQRwqxUNV9UnybZjG7bstS2ig35UErr3oqH", Sender:"3PDMYU97isdBpXHkjepokeHLzgqcwBnTJED", SenderPublicKey:"7iW7H1KTMr7q6sDCZeavFxHjExyKySCo5LvvQcugxxfn", Recipient:"3PFTGLDvE7rQfWtgSzBt7NS4NXXMQ1gUufs", AssetID:"", Amount:699900000, FeeAsset:"", Fee:100000, Timestamp:1521485624643, Attachment:"", Signature:"oZtVc8EV3uyNanJS4Fu4K8NMJjiYDsfZMZKQFwLXz2Pqjq67afRniBNVm7Nxwg3LmYJyx2ey8MoWknczr3NDzQc", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:0, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, Order2:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, BuyMatcherFee:0, SellMatcherFee:0}, model.Transactions{Type:4, ID:"JDWMMFkoyDGheThW3TS9E4SezM7pnr36sFsD8jrTwum", Sender:"3PLj6XQWBYWqRMHq4VFUtr9u7sh6LdftmZi", SenderPublicKey:"3BpdcfFZLiF1ndDSqvR6mqjKceeJM8iCwWwpoQmkh3CL", Recipient:"3P9dUze9nHRdfoKhFrZYKdsSpwW9JoE6Mzf", AssetID:"", Amount:1699900000, FeeAsset:"", Fee:100000, Timestamp:1521485639923, Attachment:"", Signature:"32D15oiMuCcMrHyySHDMwiykMkqtfyFsvXiPo7eK5qnWFSn8RqekUfcbq9YyxuqXz3wGRsjmXYGSL7XwE4jdwDd7", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:0, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, Order2:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, BuyMatcherFee:0, SellMatcherFee:0}, model.Transactions{Type:4, ID:"8k9x1TwqJ7eQG6sBrUzFwigeCt9MLH29KqjRvCeoMJG2", Sender:"3P28Lsv1Pxf63EnvqoymXwbhQ1GnFFH5s6C", SenderPublicKey:"EFeMcgEbcKiSzpWwwX8HxsV2xWLrVK5EreWJH5zUDMLg", Recipient:"3PRDjxHwETEhYXM3tjVMU4oYhfj3dqT6Vuw", AssetID:"B1u2TBpTYHWCuMuKLnbQfLvdLJ3zjgPiy3iMS2TSYugZ", Amount:240000000, FeeAsset:"", Fee:100000, Timestamp:1521485641000, Attachment:"", Signature:"2dGUm2jdJp9z5dVJWFWznzjfzu5uE74YpGF4aeeSYYpj91t9QZuJaVfAfu3QE74rDHyLTb5HkFeK8KKT1jbtkDaq", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:0, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, Order2:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, BuyMatcherFee:0, SellMatcherFee:0}, model.Transactions{Type:4, ID:"HEwV7SqimfKptMLQq2uAgem4qRuK6vYykHnJ7bhroptb", Sender:"3PEruAtC1edYhUPNoNAerP5xjdVaQMDHkPP", SenderPublicKey:"6BrPDS9ueWm9f4YUHHAWwLrTzdhjrWSGhSVafpkdCH2h", Recipient:"3P3Y5U5CbJNHfszLa9JUieR91Et14yuLsRs", AssetID:"4UY7UjzhRxKYyLh6mtiPkZpC73HFLE9DFNGKs7ju6Ai3", Amount:332000000, FeeAsset:"", Fee:100000, Timestamp:1521485646637, Attachment:"7SpcwQnSaZBCPK1zk8", Signature:"3t9s2Fd1a3xadCC9WcAa1mCC6aK4Ap7a9V5TekDuiTDprKJjzUETBQu5KxFLacbsHBsWaZvTtoLNdeCdkYDykRCx", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:0, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, Order2:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, BuyMatcherFee:0, SellMatcherFee:0}, model.Transactions{Type:4, ID:"VmRUq5rpnHiYKeK73J6YEkUpiNuGis4P9G9RqH667KF", Sender:"3P5DKriHBPkeUN1GJXsq5S2tPwXqxw2f1Nr", SenderPublicKey:"xQ4XUGFd4k7xLuByc6YEYgo64mfPPYDLcDTYb3YmTwk", Recipient:"3PBkqPd2chKH7uHViB3qkjKyYAJCSrsahbt", AssetID:"", Amount:7052700000, FeeAsset:"", Fee:100000, Timestamp:1521485648453, Attachment:"38kPaAzmvrCC4cV8FXh63", Signature:"3CLeYAMCnoDH5MpHRK16f6QocyamXGoT6BsWuVER9eZ66KcujZoYsQE9vi4wdaP6toFeTdZeEse6Pb3fSZWKPnTR", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:0, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, Order2:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, BuyMatcherFee:0, SellMatcherFee:0}, model.Transactions{Type:4, ID:"TRvLCLfAx1z2nd5E3TZDYhupNpvHhZbQ1n6igLrvwNi", Sender:"3PQGPqT3bkPsx7D7QdckFG17xi3ZLVLTswg", SenderPublicKey:"77eXKkirWnnWDhV233o9wmwSDdnErRfVXQYMfPSmtT9Z", Recipient:"3PKhcTt5dyUeb1DzBAgNvHo7imC5TCfzHm5", AssetID:"", Amount:499900000, FeeAsset:"", Fee:100000, Timestamp:1521485652642, Attachment:"", Signature:"2kvs9uCGE1iTWaqksM7Ebv5Du3eT6WKAY57EtHQSzMxdyru5dKmh23ZjyegMLotvBpCiSeYY8iKohUSd88KuD7PR", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:0, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, Order2:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, BuyMatcherFee:0, SellMatcherFee:0}, model.Transactions{Type:7, ID:"6q71yVNSTbZN5XpUmhriwzdh8Ce9kdtVYbqoU7H8jD3t", Sender:"3PJaDyprvekvPXPuAtxrapacuDJopgJRaU3", SenderPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", Recipient:"", AssetID:"", Amount:16559717, FeeAsset:"", Fee:300000, Timestamp:1521485657407, Attachment:"", Signature:"2Ra25U2qAbZokwEker3PEwZ8qeiB3kjrMU1YURerFSKQWm6Mq3d2ajw3i1ASCjybAoZSDF4gsdbX16Fxb1tWZWrr", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:3343543732, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"2o5ac1VLW7cpHGzgQ9LT7N6RjEVkyEFrzW8oaUURxB7g", SenderPublicKey:"Gk7ZjMW7u39APyTYBTtiqkAWW8QPUkTXAzkqzcQ8ezFq", MatcherPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", AssetPair:model.AssetPair{AmountAsset:"HZk1mbfuJpmxU1Fs4AX5MWLVYtctsNcg6e2C6VKqK8zk", PriceAsset:""}, OrderType:"buy", Price:3343543732, Expiration:1523209403289, MatcherFee:300000, Signature:"3gQN38GwH1CQrRSi274UoWVxxQhLV6k5gZX5gPNEEZRQKFXpdGg1R7YWoQXGaPBptaLbxJbQ3waajrUKcqHQmqx6", Amount:975200000, Timestamp:1521481403289}, Order2:model.Order{Type:0, ID:"2itFT261iPB5odaB7pZCDrD3UFw3P3K5h6wTqS7trpYJ", SenderPublicKey:"D3J7Ak2sdUozpbXzTnJKF1ADmTgiTDga7hyPPW6ChZeF", MatcherPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", AssetPair:model.AssetPair{AmountAsset:"HZk1mbfuJpmxU1Fs4AX5MWLVYtctsNcg6e2C6VKqK8zk", PriceAsset:""}, OrderType:"sell", Price:3343396882, Expiration:1521485955519, MatcherFee:300000, Signature:"4HGbej9mZQitMCBgBqE1UyRDkjAfxibZgjRugLe2fcLVnrnaKuB5kpk57VzNqENMxf7VrGtp9XfVQhz5JA6LtLi3", Amount:16559717, Timestamp:1521485655519}, BuyMatcherFee:5094, SellMatcherFee:300000}, model.Transactions{Type:4, ID:"2H8jGRhL3PjhkCYhR2qP19iQzTUhiZ1DxDZvadTUfNcL", Sender:"3P98H6rC6bVVL92PgJAkZJnBCJWiQAgr5pQ", SenderPublicKey:"FTuQnxparWgo3GHLanjg4xe71C6wjcVRfiw12TPYqEoE", Recipient:"3PKzP42Cuz9pLgQPukHYQ6XVopBzbzfnbTd", AssetID:"", Amount:200000000, FeeAsset:"", Fee:100000, Timestamp:1521485661052, Attachment:"", Signature:"458vfNMoLE541YuDg4s1QA1k1VjjnCEnmfas8LDmEE4f5kV4iM9Bjxw2nUHnMFNXYvnpeiW2m27qTbjpqWRXbHu9", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:0, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, Order2:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, BuyMatcherFee:0, SellMatcherFee:0}, model.Transactions{Type:7, ID:"Gn6295CDG165av49qnyhFi6m4tpVHAJRgixk1qcTREvf", Sender:"3PJaDyprvekvPXPuAtxrapacuDJopgJRaU3", SenderPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", Recipient:"", AssetID:"", Amount:5680486, FeeAsset:"", Fee:300000, Timestamp:1521485676758, Attachment:"", Signature:"3mkawAHUDcUr45Ee9QfUUb8v84cvRrkNVmNodamSpKKacCNvpEmDzHnL5FYFz1NQxARQtUGJfGAayYM6a7XSMVoy", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:3413853, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"2pCsKwhrMcjgZYYr7QSf3KEwrExP2UbcUNWhYex41oMc", SenderPublicKey:"3AgmQx7g7YLYrodFVhQVuH9o9GXqQuQ36rfX4VmLUCAa", MatcherPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", AssetPair:model.AssetPair{AmountAsset:"8LQW8f7P5d5PZM7GtZEBgaqRPGSzS3DfPuiXrURJ4AJS", PriceAsset:"2mX5DzVKWrAJw8iwdJnV2qtoeVG9h5nTDpTqC1wb1WEN"}, OrderType:"buy", Price:3413853, Expiration:1521485746130, MatcherFee:300000, Signature:"4f3oc3AiAJiYxveTidAnSaJVYWTm8UHutQctFm9qzdiUNwBCDdYUrTVQNX8mJJXkRyEE1nTfRMSWyEf61FUAHQBY", Amount:5680486, Timestamp:1521485676130}, Order2:model.Order{Type:0, ID:"FLutNg1LS2XEKDFrutZ1S8jxiLXEXCwD7XKmMKP9fzc3", SenderPublicKey:"3AgmQx7g7YLYrodFVhQVuH9o9GXqQuQ36rfX4VmLUCAa", MatcherPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", AssetPair:model.AssetPair{AmountAsset:"8LQW8f7P5d5PZM7GtZEBgaqRPGSzS3DfPuiXrURJ4AJS", PriceAsset:"2mX5DzVKWrAJw8iwdJnV2qtoeVG9h5nTDpTqC1wb1WEN"}, OrderType:"sell", Price:3413853, Expiration:1521485743694, MatcherFee:300000, Signature:"VRsSxmmrRwbjNPDW6CMtnBb6Fo8LQBVp5JWwpLVfKzbtShY9N4TNjcoCyYn5aj5w7nSzqxkfEgkbtKQvGBuUAkA", Amount:5680486, Timestamp:1521485673694}, BuyMatcherFee:300000, SellMatcherFee:300000}, model.Transactions{Type:4, ID:"3KYwvyDkiBC7PAP77TNSn5QMHskj8vL78DXpsCuuBwRe", Sender:"3PCHKUWPjBaTwrC35tYqXXY4Jakk4hR4nEa", SenderPublicKey:"9tbZhD3f9fjDQUnTXxjBXTp6VqaFm39y1akV161ZisGb", Recipient:"3PCsvPEYKnMn1tb7zS8akVSToA7Zv3mFKgg", AssetID:"", Amount:200000000, FeeAsset:"", Fee:100000, Timestamp:1521485679561, Attachment:"", Signature:"35mGZ7uoWWwUBu4fry1k1vMBm4yVCUv3dth3hLxmG732sEzQKXbM5c5YkHBSogBo7DuAWb6vCdahYmVFxa9Py44F", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:0, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, Order2:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, BuyMatcherFee:0, SellMatcherFee:0}, model.Transactions{Type:7, ID:"5rADJNexzJFjjdPNbt3P6DV6FGagh16wG2rxuMM9LRDk", Sender:"3PJaDyprvekvPXPuAtxrapacuDJopgJRaU3", SenderPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", Recipient:"", AssetID:"", Amount:80000000000, FeeAsset:"", Fee:300000, Timestamp:1521485685614, Attachment:"", Signature:"5vJcLPEjEE8dbYPhpmoig2DPffXVXLh5meU7AmJooDnBjxHMB5PhUc1rukGb6zsHpKNafqNwtP5rwQ15iFAVzDzh", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:339999, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"8kHMa9ef5TNWgQvSyaBYqUFBhCGqogCTyLSfMqvFzCDf", SenderPublicKey:"4JHdwwynumnF5Rr1mNKMCK2NxQEfaYVEAozTLLDrPSR3", MatcherPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", AssetPair:model.AssetPair{AmountAsset:"GDbV3k7CbGjUWqWrdFLvVkqR9xdAzbjdhszsquf6Hdjd", PriceAsset:""}, OrderType:"buy", Price:339999, Expiration:1523213684657, MatcherFee:300000, Signature:"866uZaoqjBKn8qPQ6y8dJmp6v8TswK6mm3FiVN3R1eYs5A8ezWTuGZr9m1GLJcafufCsKJE2xZTqovjMvABdnaX", Amount:600000000000, Timestamp:1521485684657}, Order2:model.Order{Type:0, ID:"EJ9vLL24QUkQgWjpY9WAMvKs8aeWbiFMXgW532WoXMeB", SenderPublicKey:"5HGEHGccJSiBviQrHgeTnWgkkFSzwwkWqkH637uXP6G2", MatcherPublicKey:"7kPFrHDiGw1rCm7LPszuECwWYL3dMf6iMifLRDJQZMzy", AssetPair:model.AssetPair{AmountAsset:"GDbV3k7CbGjUWqWrdFLvVkqR9xdAzbjdhszsquf6Hdjd", PriceAsset:""}, OrderType:"sell", Price:339999, Expiration:1523209192490, MatcherFee:300000, Signature:"2VL2hEZGDCBCBNj7bMxqgDyWJh12xAKnfy9EcXpgFEqquf3akoWyv7JZUtwTnsoqjV7Aw8gRhUYuET3Kiou3AM1q", Amount:80000000000, Timestamp:1521481192490}, BuyMatcherFee:40000, SellMatcherFee:300000}, model.Transactions{Type:4, ID:"4pPTf7ig1jrkoZjivrGi1Y3yKHiVFaYC4QLfkefF8S9r", Sender:"3PDXgFsKxnRpKR2qhR3utLydVzgW6spy5Ui", SenderPublicKey:"24geotRFVZyNqgXjEEeZTCqF7rrLuE5krqhVVLtoo9vq", Recipient:"3P53pHcJRb3PmvLtnGZyxPW1r38RTjgYoov", AssetID:"BmcArNN9VnKAp3HbvpKaoE3utwEXqvP1UjunS9DVKdGS", Amount:1000000000, FeeAsset:"", Fee:100000, Timestamp:1521485685526, Attachment:"4D2WC2Vr46GJXjwqHqPPjNqG4NDA14c31UQHLZDui7TDERP6XfQRug242rSZt4nmVH", Signature:"4LupK6LKLesZgbABVf5boc1GZkVR4PM3H2GC3tcZoi5SY2xHigsqxWC6ReYGcvxtthks9QRXFJMNtpc3g8pSw2ZC", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:0, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, Order2:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, BuyMatcherFee:0, SellMatcherFee:0}}, Height:924610}

	wavesClient := NewBlocksService(MainNET)

	block, res, err := wavesClient.GetBlocksAtHeight(expected.Height)
	assert.Nil(t, err)
	assert.Equal(t, 200, res.StatusCode)
	assert.Equal(t, expected, block)
}


func TestGetBlocksLast_200(t *testing.T) {

	wavesClient := NewBlocksService(MainNET)

	block, res, err := wavesClient.GetBlocksLast()
	assert.Nil(t, err)
	assert.Equal(t, 200, res.StatusCode)
	assert.NotEmpty(t, block.Blocksize,"Blocksize cant be null")
}


func TestGetBlocksFromTo_200(t *testing.T) {

	expected := &[]model.Blocks{model.Blocks{Version:2, Timestamp:1465767023415, Reference:"nsmaWUoWcztxSHkRWs6VdVmjE2BoGryDLuoLKt5SLqDQxKHnNaMWEtzLn2DVjFXMRF2evTPVaDjP2feWsqjimUj", NxtCconsensus:model.NxtCconsensus{BaseTarget:489651502, GenerationSignature:"7CpUrk3ESYPkVsN9Cbw3ZKmv9tV91uexPSJNiJJX5fsD"}, Features:[]int(nil), Generator:"3PAGPDPqnGkyhcihyjMHe9v36Y4hkAh9yDy", Signature:"5VnJZ5yQucx72FCn5mtSrsvbLhsu4tybDf5uV9sZjgdyyqWoWs4Sgd6BGeh9vNyv7QcBD3RQbWSMU54cwpGKTPzq", Blocksize:369, TransactionCount:1, Fee:1, Transactions:[]model.Transactions{model.Transactions{Type:2, ID:"5LXV3FmPUAYoKqN82X6fyP2BH9rGprMXqqYx64kcNZKQd2yPBcox1XoZiwnQaC7dYH5YTek4e7J4eSLMyDVt17TV", Sender:"3PKDWwYBdD2XRgVLRuUiF8pKCUhibpKq91B", SenderPublicKey:"6FSVM6D3T186nxvPohdG2bYBfMg14SLjptGb2WNNP3Bn", Recipient:"3PFnbq8kQjYyPwHMaSnbyQ78t15uU6nbkqi", AssetID:"", Amount:560100000000, FeeAsset:"", Fee:1, Timestamp:1465766981434, Attachment:"", Signature:"5LXV3FmPUAYoKqN82X6fyP2BH9rGprMXqqYx64kcNZKQd2yPBcox1XoZiwnQaC7dYH5YTek4e7J4eSLMyDVt17TV", Height:0, OrderType:model.AssetPair{AmountAsset:"", PriceAsset:""}, Price:0, Expiration:0, MatcherFee:0, Order1:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, Order2:model.Order{Type:0, ID:"", SenderPublicKey:"", MatcherPublicKey:"", AssetPair:model.AssetPair{AmountAsset:"", PriceAsset:""}, OrderType:"", Price:0, Expiration:0, MatcherFee:0, Signature:"", Amount:0, Timestamp:0}, BuyMatcherFee:0, SellMatcherFee:0}}, Height:333}, model.Blocks{Version:2, Timestamp:1465767053456, Reference:"5VnJZ5yQucx72FCn5mtSrsvbLhsu4tybDf5uV9sZjgdyyqWoWs4Sgd6BGeh9vNyv7QcBD3RQbWSMU54cwpGKTPzq", NxtCconsensus:model.NxtCconsensus{BaseTarget:489651502, GenerationSignature:"FKBHc6CmpXyxaVVDuKMxKz9GuHmTfFUoaUeDBU4D8GFz"}, Features:[]int(nil), Generator:"3PAGPDPqnGkyhcihyjMHe9v36Y4hkAh9yDy", Signature:"66WwRYSHaud6W51WDZmZ57dSasieCb2277Tb4WVJjKvZerxMSykuPyFKzE3rCbmAbuiAHCsf7q3QtdrHEGesPgPa", Blocksize:218, TransactionCount:0, Fee:0, Transactions:[]model.Transactions{}, Height:334}}

	wavesClient := NewBlocksService(MainNET)

	blocks, res, err := wavesClient.GetBlocksSeqFromTo(333,334)
	assert.Nil(t, err)
	assert.Equal(t, 200, res.StatusCode)
	assert.Equal(t, expected, blocks)
}


func TestGetBlocksAtHeight_404(t *testing.T) {
	wavesClient := NewBlocksService(MainNET)
	_, res, _ := wavesClient.GetBlocksAtHeight(6666666666666666)
	assert.NotNil(t, res)
	assert.Equal(t, 404, res.StatusCode)
}

func TestGetBlocksAtHeight_404_TestNET(t *testing.T) {
	wavesClient := NewBlocksService(TestNET)
	_, res, _ := wavesClient.GetBlocksAtHeight(6666666666666666)
	assert.NotNil(t, res)
	assert.Equal(t, 404, res.StatusCode)
}
